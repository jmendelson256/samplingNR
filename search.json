[{"path":[]},{"path":"https://jmendelson256.github.io/samplingNR/LICENSE.html","id":null,"dir":"","previous_headings":"","what":"CC0 1.0 Universal","title":"CC0 1.0 Universal","text":"CREATIVE COMMONS CORPORATION LAW FIRM PROVIDE LEGAL SERVICES. DISTRIBUTION DOCUMENT CREATE ATTORNEY-CLIENT RELATIONSHIP. CREATIVE COMMONS PROVIDES INFORMATION “-” BASIS. CREATIVE COMMONS MAKES WARRANTIES REGARDING USE DOCUMENT INFORMATION WORKS PROVIDED HEREUNDER, DISCLAIMS LIABILITY DAMAGES RESULTING USE DOCUMENT INFORMATION WORKS PROVIDED HEREUNDER.","code":""},{"path":"https://jmendelson256.github.io/samplingNR/LICENSE.html","id":"statement-of-purpose","dir":"","previous_headings":"","what":"Statement of Purpose","title":"CC0 1.0 Universal","text":"laws jurisdictions throughout world automatically confer exclusive Copyright Related Rights (defined ) upon creator subsequent owner(s) (, “owner”) original work authorship /database (, “Work”). Certain owners wish permanently relinquish rights Work purpose contributing commons creative, cultural scientific works (“Commons”) public can reliably without fear later claims infringement build upon, modify, incorporate works, reuse redistribute freely possible form whatsoever purposes, including without limitation commercial purposes. owners may contribute Commons promote ideal free culture production creative, cultural scientific works, gain reputation greater distribution Work part use efforts others. /purposes motivations, without expectation additional consideration compensation, person associating CC0 Work (“Affirmer”), extent owner Copyright Related Rights Work, voluntarily elects apply CC0 Work publicly distribute Work terms, knowledge Copyright Related Rights Work meaning intended legal effect CC0 rights. Copyright Related Rights. Work made available CC0 may protected copyright related neighboring rights (“Copyright Related Rights”). Copyright Related Rights include, limited , following: right reproduce, adapt, distribute, perform, display, communicate, translate Work; moral rights retained original author(s) /performer(s); publicity privacy rights pertaining person’s image likeness depicted Work; rights protecting unfair competition regards Work, subject limitations paragraph 4(), ; rights protecting extraction, dissemination, use reuse data Work; database rights (arising Directive 96/9/EC European Parliament Council 11 March 1996 legal protection databases, national implementation thereof, including amended successor version directive); similar, equivalent corresponding rights throughout world based applicable law treaty, national implementations thereof. Waiver. greatest extent permitted , contravention , applicable law, Affirmer hereby overtly, fully, permanently, irrevocably unconditionally waives, abandons, surrenders Affirmer’s Copyright Related Rights associated claims causes action, whether now known unknown (including existing well future claims causes action), Work () territories worldwide, (ii) maximum duration provided applicable law treaty (including future time extensions), (iii) current future medium number copies, (iv) purpose whatsoever, including without limitation commercial, advertising promotional purposes (“Waiver”). Affirmer makes Waiver benefit member public large detriment Affirmer’s heirs successors, fully intending Waiver shall subject revocation, rescission, cancellation, termination, legal equitable action disrupt quiet enjoyment Work public contemplated Affirmer’s express Statement Purpose. Public License Fallback. part Waiver reason judged legally invalid ineffective applicable law, Waiver shall preserved maximum extent permitted taking account Affirmer’s express Statement Purpose. addition, extent Waiver judged Affirmer hereby grants affected person royalty-free, non transferable, non sublicensable, non exclusive, irrevocable unconditional license exercise Affirmer’s Copyright Related Rights Work () territories worldwide, (ii) maximum duration provided applicable law treaty (including future time extensions), (iii) current future medium number copies, (iv) purpose whatsoever, including without limitation commercial, advertising promotional purposes (“License”). License shall deemed effective date CC0 applied Affirmer Work. part License reason judged legally invalid ineffective applicable law, partial invalidity ineffectiveness shall invalidate remainder License, case Affirmer hereby affirms () exercise remaining Copyright Related Rights Work (ii) assert associated claims causes action respect Work, either case contrary Affirmer’s express Statement Purpose. Limitations Disclaimers. trademark patent rights held Affirmer waived, abandoned, surrendered, licensed otherwise affected document. Affirmer offers Work -makes representations warranties kind concerning Work, express, implied, statutory otherwise, including without limitation warranties title, merchantability, fitness particular purpose, non infringement, absence latent defects, accuracy, present absence errors, whether discoverable, greatest extent permissible applicable law. Affirmer disclaims responsibility clearing rights persons may apply Work use thereof, including without limitation person’s Copyright Related Rights Work. , Affirmer disclaims responsibility obtaining necessary consents, permissions rights required use Work. Affirmer understands acknowledges Creative Commons party document duty obligation respect CC0 use Work.","code":""},{"path":"https://jmendelson256.github.io/samplingNR/articles/samplingNR.html","id":"overview","dir":"Articles","previous_headings":"","what":"Overview","title":"Sample allocation example: 2016 PEVS-ADM","text":"example shows use samplingNR package allocate sample 50,000 invitees, using methods described paper assuming equivalent strata variances across strata (.e., \\(S_h = S\\) constant \\(S\\)). example shows replicate paper’s Table 2, compares proposed allocation common alternatives application survey military personnel. stratification, population counts, response rate information used example included package data set pevs_adm_2016_rrs, structured tibble. data based secondary analysis public use data 2016 Post-Election Voting Survey Active Duty Military (PEVS-ADM; Federal Assistance Voting Program, 2017a, 2017b), described paper.","code":""},{"path":[]},{"path":"https://jmendelson256.github.io/samplingNR/articles/samplingNR.html","id":"exact-optimal-allocation-iterative","dir":"Articles","previous_headings":"Compute allocations","what":"Exact optimal allocation (iterative)","title":"Sample allocation example: 2016 PEVS-ADM","text":"function opt_nh_nonresp() calculates exact (.e., iteratively computed) version optimal allocation nonresponse, provided paper summarized function documentation. assume stratification follows pevs_adm_2016_rrs, specify strata population sizes N_h anticipated response propensities phibar_h. omitted optional argument S_h, leading use default assumption \\(S_h\\) constant across strata. Note fixing total number invitees (n_max), implicitly assuming use constant cost per invitee scenario paper (.e., per unit costs assumed constant across strata vary response status).","code":"library(samplingNR) library(magrittr) library(dplyr)  #Compute exact optimum allocation for PEVS-ADM 2016 data set for n = 50k #Assumes tau = 1 by default pevs_optE_alloc_50k <- opt_nh_nonresp(N_h = pevs_adm_2016_rrs$Nhat_h,                                       phibar_h = pevs_adm_2016_rrs$rr_h,                                       n_max = 50000)  #Merge results into original data frame pevs_adm_alloc_50k_merged <- pevs_adm_2016_rrs %>%   dplyr::mutate(n_h_optE = c(pevs_optE_alloc_50k),                 zeta_h_optE = attr(pevs_optE_alloc_50k,\"zeta_h_prev\"))  #View results pevs_adm_alloc_50k_merged #> # A tibble: 91 × 10 #>    h     service paygrade age   region  sex   Nhat_h   rr_h n_h_optE zeta_h_optE #>    <chr> <fct>   <fct>    <fct> <fct>   <fct>  <dbl>  <dbl>    <dbl>       <dbl> #>  1 1     Army    E1-E5    18-24 US      M     1.09e5 0.0189    8267.        1.01 #>  2 2     Army    E1-E5    18-24 US      F     1.89e4 0.0364    1041.        1.03 #>  3 3     Army    E1-E5    18-24 Overse… M     1.85e4 0.0214    1333.        1.04 #>  4 4     Army    E1-E5    18-24 Overse… F     3.31e3 0.0431     179.        1.17 #>  5 5     Army    E1-E5    25-29 US      M     4.83e4 0.0487    2280.        1.01 #>  6 6     Army    E1-E5    25-29 US      F     8.68e3 0.0619     370.        1.05 #>  7 7     Army    E1-E5    25-29 Overse… M/F   1.08e4 0.0566     477.        1.04 #>  8 8     Army    E1-E5    30-34 US      M/F   2.14e4 0.0891     746.        1.01 #>  9 9     Army    E1-E5    30-34 Overse… M/F   3.74e3 0.0904     135.        1.09 #> 10 10    Army    E1-E5    35+   US      M/F   9.06e3 0.188      219.        1.02 #> # ℹ 81 more rows"},{"path":"https://jmendelson256.github.io/samplingNR/articles/samplingNR.html","id":"approximately-optimal-allocation","dir":"Articles","previous_headings":"Compute allocations","what":"Approximately optimal allocation","title":"Sample allocation example: 2016 PEVS-ADM","text":"approximate version allocation, assumes \\(\\zeta_h(n_h,\\bar{\\phi}_h) = 1\\), can computed using function opt_nh_nonresp_oneiter().","code":"pevs_optA_alloc_50k <- opt_nh_nonresp_oneiter(N_h = pevs_adm_2016_rrs$Nhat_h,                                               phibar_h = pevs_adm_2016_rrs$rr_h,                                               n_max = 50000)"},{"path":"https://jmendelson256.github.io/samplingNR/articles/samplingNR.html","id":"neyman-style-allocations-for-comparison","dir":"Articles","previous_headings":"Compute allocations","what":"Neyman-style allocations for comparison","title":"Sample allocation example: 2016 PEVS-ADM","text":"comparison, also compute Neyman allocation invitees (\\(n_h^{\\textrm{Ninv}}\\propto N_h S_h\\)), adjust differential nonresponse, Neyman allocation expected respondents (\\(n_h^{\\textrm{Nresp}}\\propto N_h S_h / \\bar{\\phi}_h\\)), adjusts inverse anticipated response rates. case, ignore \\(S_h\\) terms applications equations, purposes example, given earlier assumption equivalent strata variances.","code":"nh_Ninv_propto <- pevs_adm_2016_rrs$Nhat_h nh_Ninv <- nh_Ninv_propto / sum(nh_Ninv_propto) * 50000  nh_Nresp_propto <- pevs_adm_2016_rrs$Nhat_h / pevs_adm_2016_rrs$rr_h nh_Nresp <- nh_Nresp_propto / sum(nh_Nresp_propto) * 50000  #Make sure allocations are valid all(nh_Ninv >= 2 & nh_Ninv <= pevs_adm_2016_rrs$Nhat_h) #> [1] TRUE all(nh_Nresp >= 2 & nh_Nresp <= pevs_adm_2016_rrs$Nhat_h) #> [1] TRUE"},{"path":"https://jmendelson256.github.io/samplingNR/articles/samplingNR.html","id":"view-allocations","dir":"Articles","previous_headings":"","what":"View allocations","title":"Sample allocation example: 2016 PEVS-ADM","text":"resulting allocations can seen match shown paper’s Appendix.","code":"(pevs_adm_allocs_50k <-    pevs_adm_alloc_50k_merged %>%   mutate(n_h_optA = pevs_optA_alloc_50k,          n_h_Ninv = nh_Ninv,          n_h_Nresp = nh_Nresp) %>%   select(c(\"h\", \"n_h_Ninv\", \"n_h_Nresp\", \"n_h_optA\", \"n_h_optE\", \"zeta_h_optE\"))) #> # A tibble: 91 × 6 #>    h     n_h_Ninv n_h_Nresp n_h_optA n_h_optE zeta_h_optE #>    <chr>    <dbl>     <dbl>    <dbl>    <dbl>       <dbl> #>  1 1        4269.   12975.     8309.    8267.        1.01 #>  2 2         740.    1164.     1036.    1041.        1.03 #>  3 3         722.    1935.     1320.    1333.        1.04 #>  4 4         129.     172.      167.     179.        1.17 #>  5 5        1890.    2225.     2289.    2280.        1.01 #>  6 6         339.     314.      364.     370.        1.05 #>  7 7         421.     426.      473.     477.        1.04 #>  8 8         835.     537.      747.     746.        1.01 #>  9 9         146.      92.6     130.     135.        1.09 #> 10 10        354.     108.      218.     219.        1.02 #> # ℹ 81 more rows"},{"path":"https://jmendelson256.github.io/samplingNR/articles/samplingNR.html","id":"evaluate-performance","dir":"Articles","previous_headings":"","what":"Evaluate performance","title":"Sample allocation example: 2016 PEVS-ADM","text":", can roughly examine performance computing number respondents, design effect weighting (\\(deff_w\\); Kish, 1992), effective number respondents allocation, replicating Table 2 paper. results show given assumptions, proposed allocation effective sample size 25% higher Neyman-style allocations.","code":""},{"path":"https://jmendelson256.github.io/samplingNR/articles/samplingNR.html","id":"code","dir":"Articles","previous_headings":"Evaluate performance","what":"Code","title":"Sample allocation example: 2016 PEVS-ADM","text":"","code":"#Calculate Kish's deff_w for poststratified estimator under nonresponse calculate_deff_w <- function (N_h, r_h) {   stopifnot(length(N_h) == length(r_h))   stopifnot(all(r_h >= 1))   stopifnot(all(r_h <= N_h))   testthat::expect_equal(all(r_h <= N_h), TRUE)    w_h <- N_h/r_h    wbar <- sum(w_h * r_h)/sum(r_h)   deff_w <- 1 + 1/sum(r_h) * sum((w_h - wbar)^2 * r_h)/wbar^2    (deff_w) }  #Summarize results from allocation under assumption that r_h = n_h * phibar_h summarize_alloc <- function(N_h, phibar_h, n_h) {   n_total <- sum(n_h)   r_total <- sum(phibar_h * n_h)   rr <- r_total / n_total   deff_w <- calculate_deff_w(N_h = N_h, r_h = n_h * phibar_h)   eff_resp <- r_total / deff_w   c(n_total, r_total, rr, deff_w, eff_resp) }  #Summarize results of each allocation pevs_adm_alloc_summary_list <-   lapply(2:5,          function(col) summarize_alloc(N_h = pevs_adm_2016_rrs$Nhat_h,                                        phibar_h = pevs_adm_2016_rrs$rr_h,                                        n_h = unname(unlist(pevs_adm_allocs_50k[,col]))))  names(pevs_adm_alloc_summary_list) <- names(pevs_adm_allocs_50k[,2:5])  pevs_adm_alloc_summary_table <- pevs_adm_alloc_summary_list %>%   bind_rows() %>%   t()  colnames(pevs_adm_alloc_summary_table) <- c(\"n_total\", \"r_total\", \"rr\",                                              \"deff_w\", \"eff_resp\")"},{"path":"https://jmendelson256.github.io/samplingNR/articles/samplingNR.html","id":"results","dir":"Articles","previous_headings":"Evaluate performance","what":"Results","title":"Sample allocation example: 2016 PEVS-ADM","text":"","code":"(pevs_adm_alloc_summary_tibble <-     tibble::as_tibble(pevs_adm_alloc_summary_table, rownames = \"alloc\")) #> # A tibble: 4 × 6 #>   alloc     n_total r_total     rr deff_w eff_resp #>   <chr>       <dbl>   <dbl>  <dbl>  <dbl>    <dbl> #> 1 n_h_Ninv    50000   6794. 0.136    2.37    2865. #> 2 n_h_Nresp   50000   2865. 0.0573   1       2865. #> 3 n_h_optA    50000   4494. 0.0899   1.26    3570. #> 4 n_h_optE    50000   4496. 0.0899   1.26    3570.  #View the percent increase in effective sample size from optE relative to Ninv  # and Nresp. eff_resp_vec <- pevs_adm_alloc_summary_tibble$eff_resp eff_resp_vec[4]/eff_resp_vec[1:2] - 1 #> [1] 0.2461351 0.2461351"},{"path":"https://jmendelson256.github.io/samplingNR/articles/samplingNR.html","id":"references","dir":"Articles","previous_headings":"","what":"References","title":"Sample allocation example: 2016 PEVS-ADM","text":"Federal Voting Assistance Program. (2017a). 2015-2016 Active Duty Military dataset. Federal Voting Assistance Program, U.S. Department Defense. https://www.fvap.gov/uploads/FVAP/Surveys/PEV51601_Pub.dta [Accessed 17 January 2023]. Federal Voting Assistance Program (2017b). Post-Election Voting Surveys: Active Duty Military: Technical report 2016. Technical report, Federal Voting Assistance Program, U.S. Department Defense. https://www.fvap.gov/uploads/FVAP/Reports/PEVS_ADM_TechReport_Final.pdf [Accessed 17 January 2023]. Kish, L. (1992). Weighting unequal Pi. Journal Official Statistics, 8(2), 183–200.","code":""},{"path":"https://jmendelson256.github.io/samplingNR/authors.html","id":null,"dir":"","previous_headings":"","what":"Authors","title":"Authors and Citation","text":"Jonathan Mendelson. Author, maintainer.","code":""},{"path":"https://jmendelson256.github.io/samplingNR/authors.html","id":"citation","dir":"","previous_headings":"","what":"Citation","title":"Authors and Citation","text":"Mendelson J (2024). samplingNR: Stratified sample allocation anticipated nonresponse. R package version 0.2.2, https://jmendelson256.github.io/samplingNR/, https://github.com/jmendelson256/samplingNR.","code":"@Manual{,   title = {samplingNR: Stratified sample allocation under anticipated nonresponse},   author = {Jonathan Mendelson},   year = {2024},   note = {R package version 0.2.2, https://jmendelson256.github.io/samplingNR/},   url = {https://github.com/jmendelson256/samplingNR}, }"},{"path":"https://jmendelson256.github.io/samplingNR/index.html","id":"samplingnr","dir":"","previous_headings":"","what":"Stratified sample allocation under anticipated nonresponse","title":"Stratified sample allocation under anticipated nonresponse","text":"samplingNR R package allows computing optimal allocations anticipated nonresponse, described paper.","code":""},{"path":"https://jmendelson256.github.io/samplingNR/index.html","id":"installation","dir":"","previous_headings":"","what":"Installation","title":"Stratified sample allocation under anticipated nonresponse","text":"can install samplingNR using command :","code":"install.packages(\"samplingNR_0.2.2.tar.gz\")"},{"path":"https://jmendelson256.github.io/samplingNR/index.html","id":"vignette","dir":"","previous_headings":"","what":"Vignette","title":"Stratified sample allocation under anticipated nonresponse","text":"can learn use package vignette(\"samplingNR\"), shows replicate two tables paper application post-election survey military personnel.","code":""},{"path":"https://jmendelson256.github.io/samplingNR/index.html","id":"basic-usage","dir":"","previous_headings":"","what":"Basic usage","title":"Stratified sample allocation under anticipated nonresponse","text":"main allocation function opt_nh_nonresp(), provides exact version proposed optimal allocation anticipated nonresponse. current version assumes goal minimize (expected) variance subject constraint total (expected) costs invited sample size.","code":""},{"path":"https://jmendelson256.github.io/samplingNR/index.html","id":"fixed-total-sample-size","dir":"","previous_headings":"Basic usage","what":"Fixed total sample size","title":"Stratified sample allocation under anticipated nonresponse","text":"aim allocate fixed total (invited) sample size, basic usage : vectors N_h phibar_hdenote strata population sizes, anticipated response rates, (optionally) strata variances, respectively, scalar n_max denotes total sample size. S_h omitted, strata variances assumed constant across strata.","code":"opt_nh_nonresp(   N_h,   phibar_h,   S_h = NULL,   n_max   ... )"},{"path":"https://jmendelson256.github.io/samplingNR/index.html","id":"fixed-total-costs","dir":"","previous_headings":"Basic usage","what":"Fixed total costs","title":"Stratified sample allocation under anticipated nonresponse","text":"aim allocate sample subject constraint total costs, basic usage : , c_max denotes total allowable costs, c_NR_h denotes unit costs per nonrespondent (strata), tau_h denotes ratio unit costs per respondent nonrespondents (strata). arguments c_NR_h tau_h can specified vectors dimension H quantities vary strata; alternatively, assumed constant across strata, can specified scalars.","code":"opt_nh_nonresp(   N_h,   phibar_h,   S_h = NULL,   c_max,   c_NR_h,   tau_h   ... )"},{"path":"https://jmendelson256.github.io/samplingNR/news/index.html","id":"samplingnr-022","dir":"Changelog","previous_headings":"","what":"samplingNR 0.2.2","title":"samplingNR 0.2.2","text":"Use cc0 licensing opt_nh_nonresp, moved … optional args First intended public release","code":""},{"path":"https://jmendelson256.github.io/samplingNR/news/index.html","id":"samplingnr-021","dir":"Changelog","previous_headings":"","what":"samplingNR 0.2.1","title":"samplingNR 0.2.1","text":"Numerous documentation edits","code":""},{"path":"https://jmendelson256.github.io/samplingNR/news/index.html","id":"samplingnr-020","dir":"Changelog","previous_headings":"","what":"samplingNR 0.2.0","title":"samplingNR 0.2.0","text":"Ported core functionality development version (jmpaper3_0.1.0.9016.tar.gz) Renamed functions, cleaned documentation examples, added unit tests Added pevs_adm_2016_rrs data set","code":""}]
